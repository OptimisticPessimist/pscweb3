# 脚本ビューワー表示改善計画

## 問題の特定
`example.fountain` において `# シーン1` という記述が、Fountainパーサーで「幕 (Act)」として解釈され、「シーン (Scene)」として認識されていない。
これにより、シーンオブジェクトが生成されず、その後のセリフやト書きがどのシーンにも属さない「孤立した行」となり、DBには保存されるものの（または保存されず無視され）、フロントエンドのビューワー（シーン単位で表示）には表示されない状態となっている。

## 修正方針
Fountainの仕様（Markdown互換）として `#` は本来レベル1見出し（Act）だが、日本語の脚本慣習やユーザーの利用実態に合わせて、`# シーン...` という形式もシーン見出しとして扱うようにパーサーロジックを拡張する。

### 変更点
`backend/src/services/fountain_parser.py`:
- 先頭が `#` で始まるセクション見出しについて、「シーン」または「Scene」という文字列が含まれる場合は、Actではなく（あるいはActに加えて）Sceneとして認識するように判定ロジックを変更する。
- 具体的には、`is_section_scene` の条件に `(startswith("#") and ("シーン" in content or "Scene" in content))` を追加する（または `is_section_act` から除外する）。
- **i18n対応**: 日本語「シーン」だけでなく、英語「Scene」、韓国語「씬」、中国語「场/場」も対象とする。

### ドキュメント更新
`docs/role_manual.md`:
- 「日本語Fountainの独自記法」セクションに、`# シーン名` もシーンとして認識される旨を追記する。

## 検証
- `backend/debug_scene_creation.py` を用いて、`# シーン1` が `Scene Created` となることを確認する。
- 既存のテストへの影響がないか確認する。
