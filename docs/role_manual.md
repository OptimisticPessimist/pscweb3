# PSCWEB3 利用者マニュアル
## 演劇・映像制作のためのプロジェクト管理システム

このシステムは、演劇の公演や映像制作プロジェクトの運営をスムーズにするためのツールです。
脚本管理、スケジュール調整、出欠確認、キャスト・スタッフ管理など、制作に必要な機能が揃っています。

---

## 目次
1. [役割（ロール）について](#1-役割ロールについて)
2. [はじめに（全員共通）](#2-はじめに全員共通)
3. [🎫 チケット予約（一般来場者向け）](#3-🎫-チケット予約一般来場者向け)
4. [閲覧者向けマニュアル](#4-閲覧者向けマニュアル)
5. [編集者向けマニュアル](#5-編集者向けマニュアル)
   - [マイルストーン別予約一覧の確認](#🎫-マイルストーン別予約一覧の確認)
6. [管理者向けマニュアル](#6-管理者向けマニュアル)
7. [機能一覧表](#7-機能一覧表)

---

## 1. 役割（ロール）について

システムには3つの役割があります。自分の役割を確認しましょう。

### 👑 管理者 (Owner)
**演劇:** 部長、演出家、制作チーフ  
**映像:** 監督、プロデューサー、制作統括

- プロジェクトの作成・削除
- メンバーの招待・権限管理
- Discord通知の設定
- すべての機能を利用可能

### ✏️ 編集者 (Editor)
**演劇:** 演出助手、舞台監督、各セクションチーフ  
**映像:** 助監督、撮影監督、各部門リーダー

- 脚本（台本）のアップロード・編集
- スケジュールの作成・編集
- 出欠未回答者への回答催促
- 香盤表（出番表）の管理
- キャスティングの設定

### 👀 閲覧者 (Viewer)
**演劇:** キャスト（役者）、スタッフ、顧問  
**映像:** 出演者、スタッフ、クライアント

- スケジュールの確認
- 脚本（台本）の閲覧
- 出欠の回答
- 自分のマイスケジュール確認

---

## 2. はじめに（全員共通）

### 🔐 ログイン方法
1. システムのURLにアクセスします。
2. **「Discordでログイン」** ボタンをクリックします。
3. Discordアカウントで認証すると、自動的にログインできます。

> 💡 Discordアカウントを持っていない場合は、先に [Discord](https://discord.com/) で無料アカウントを作成してください。

### 🏠 ダッシュボード
ログイン後、ダッシュボードが表示されます。
- 参加しているプロジェクトの一覧
- 直近のスケジュール
- 各種機能へのリンク

> 💡 **プロジェクト作成数の制限について**  
> 通常、1ユーザーがオーナーとして作成できるプロジェクト（非公開）は **2つまで** です。  
> ただし、**「公開設定」された脚本を含むプロジェクトはこの制限の対象外** となり、いくつでも作成可能です。  
> 多くの作品を公開して、活動の幅を広げましょう！

### 🌐 言語切り替え
画面右上のボタンで、表示言語を切り替えられます。
- 日本語 / English / 한국어 / 简体中文 / 繁體中文

---

## 3. 🎫 チケット予約（一般来場者向け）

このセクションは、公演を観に来る **一般の来場者の方** 向けの説明です。  
※ プロジェクトメンバー（キャスト・スタッフ）の方は、次のセクション以降をご覧ください。

### チケットの予約方法

1. SNSや公式サイトなどで共有されている **予約ページのURL** にアクセスします。
2. 以下の情報を入力します：
   - **お名前**: 予約者の名前
   - **メールアドレス**: 確認メールが届くアドレス
   - **予約枚数**: 必要なチケット枚数（1〜複数枚選択可能）
   - **紹介者**: （任意）知り合いのキャスト・スタッフがいる場合は選択
3. **「予約する」** ボタンをクリックします。
4. 確認メールが届きますので、内容を確認してください。

> 💡 **予約完了後**  
> - 確認メールには公演の日時、場所、予約内容が記載されています。
> - Googleカレンダーへの追加リンクも含まれています。
> - 万が一キャンセルが必要な場合は、メール内のキャンセルリンクから手続きできます。

> 🌐 **多言語対応**  
> 予約ページは5言語（日本語、英語、韓国語、簡体字、繁体字）に対応しています。  
> ブラウザの言語設定に応じて自動的に表示されます。

---

## 4. 閲覧者向けマニュアル

キャスト・スタッフの皆さんが主に使う機能です。

### 📅 スケジュールの確認
稽古や撮影の日程を確認できます。

1. メニューから **「スケジュール」** を選択します。
2. カレンダー形式で日程が表示されます。
3. 日付をクリックすると詳細（場所、シーン、参加者など）が見られます。

### 📆 マイスケジュール
自分が関わる稽古・撮影だけを確認できます。

1. メニューから **「マイスケジュール」** を選択します。
2. 自分がキャストされているシーンの稽古が一覧表示されます。

### ✅ 出欠の回答
稽古や撮影への出欠を回答します。

**Discord経由の場合:**
1. Discordに通知が届きます。
2. 「⭕出席」「❌欠席」などのボタンを押すだけで完了です。

**システム内での回答:**
1. メニューから **「出欠確認」** を選択します。
2. 対象のイベントを選び、出欠を回答します。

### 📖 脚本（台本）を読む
いつでもスマホやPCから最新の脚本が読めます。

1. メニューから **「脚本」** を選択します。
2. 自分のプロジェクトの脚本が表示されます。
3. 縦書き表示で読みやすく表示されます。

### 🌍 公開脚本の閲覧
他のユーザーが公開している脚本を読むことができます。

1. ダッシュボードまたはメニューから **「公開脚本」** を選択します。
2. 興味のある脚本を選んで閲覧できます。
3. 気に入った脚本は、自分のプロジェクトとして **インポート** することも可能です（後述）。

### 📊 香盤表の確認
どのシーンに誰が出るかを確認できます。

1. 脚本詳細ページで **「香盤表」** タブを選択します。
2. シーンごとの登場キャラクターが一覧表示されます。

---

## 5. 編集者向けマニュアル

演出スタッフ、制作スタッフなど、プロジェクトを運営する人向けの機能です。

### 📝 脚本のアップロード
Fountain形式の脚本ファイルをアップロードできます。

1. メニューから **「脚本」** → **「アップロード」** を選択します。
2. ファイルを選択（またはドラッグ＆ドロップ）します。
3. タイトルを確認して **「アップロード」** をクリックします。

> 💡 **Fountain形式とは？**  
> シンプルなテキスト形式で脚本を書けるフォーマットです。  
> 詳しくは [fountain.io](https://fountain.io/) または [fountain-JA](https://satamame.github.io/playscript/master/fountain.html)を参照してください。
>
> **🇯🇵 日本語Fountainの独自記法**:  
> 本システムでは、日本語脚本を書きやすくするための拡張記法をサポートしています。
> 1. **一行セリフ**:  
>    `@キャラクター名 セリフ` のように `@` で始めると、キャラクターとセリフを1行で書けます。
> 2. **強制シーン見出し**:  
>    `.1 第一幕` や `.2 第一場` のように `.` で始めると、シーン見出しとして認識されます。
> 3. **全角・半角スペースの保持**:  
>    行頭にスペースを入れると、ト書きとして認識され、インデントがそのまま表示されます。
> 4. **`#` によるシーン指定**:  
>    本来 `#` は幕（Act）を表しますが、`# シーン1` や `# Scene 1` のように「シーン」「Scene」という言葉が含まれる場合は、シーンとして認識されます。

### 📝 脚本情報の入力
アップロード時に以下の情報を設定できます。
- **著作者名**: 脚本の作者名（任意）。
- **公開設定**: 「公開する」にチェックを入れると、以下の追加情報を設定できます：
    - **使用条件**:（例：「上演の際はご連絡ください」「学生演劇は無料」など）
    - **連絡先**:（例：メールアドレスやSNSアカウント）
    - ※ 公開すると、他のユーザーが「公開脚本」メニューから閲覧・インポートできるようになり、あなたのプロジェクト作成数制限のカウント対象外となります。

### 🗓 スケジュールの作成
稽古や撮影の日程を作成します。

1. メニューから **「スケジュール」** を選択します。
2. **「新規作成」** ボタンをクリックします。
3. 以下を入力して保存します：
   - 日時
   - 場所
   - 対象シーン（複数選択可）
   - メモ
   
### 🚩 マイルストーンの設定
公演本番や主要な締切（マイルストーン）を設定します。

1. プロジェクト設定画面の **「マイルストーン設定」** から追加します。
2. タイトル、日付、色などを設定して保存します。
3. スケジュール上に表示され、自動的に出欠確認イベントを作成することも可能です。
4. **予約定員** を設定すると、チケット予約ページのリンクが生成されます。
   - 生成されたリンクを公演の告知と一緒にSNSなどで共有できます。
   - 来場者は予約ページから名前、メールアドレス、枚数などを入力して予約できます。

### 🎫 マイルストーン別予約一覧の確認
各公演（マイルストーン）の予約状況を確認し、来場者の出席管理ができます。

1. プロジェクト設定画面の **「マイルストーン設定」** を開きます。
2. 予約定員を設定したマイルストーンの **「予約ページ」** リンクをクリックします。
3. 予約者一覧が表示され、以下の情報を確認できます：
   - 予約者名とメールアドレス
   - 予約枚数
   - 紹介者（キャスト・スタッフの場合）
   - 予約日時
4. **出席確認トグル** を使用して、来場者の出席状況を記録できます。
   - トグルをONにすると「出席済」にマークされます。
   - 一覧は出席済みと未出席で見分けやすく表示されます。

> 💡 **多言語対応**  
> 予約ページは日本語、英語、韓国語、簡体字、繁体字の5言語に対応しています。  
> 来場者のブラウザ設定に応じて自動的に適切な言語で表示されます。


### 📊 香盤表の編集
各シーンに登場するキャラクターを設定します。

1. 脚本詳細ページで **「香盤表」** タブを選択します。
2. 各シーンの行で、登場するキャラクターにチェックを入れます。
3. 自動保存されます。

### 🎭 キャスティングの設定
キャラクターと役者を紐付けます。

1. メニューから **「キャスティング」** を選択します。
2. キャラクター一覧から設定したいキャラクターを選びます。
3. 担当する役者を選択します。
4. ダブルキャスト（複数人が同じ役）にも対応しています。

### 👥 スタッフ管理
スタッフの役割を設定します。

1. メニューから **「スタッフ」** を選択します。
2. メンバー一覧で各スタッフの担当役割を設定します。

### 📢 出欠確認の催促
未回答のメンバーにリマインダーを送信できます。

1. メニューから **「出欠確認」** を選択します。
2. 対象のイベントを選びます。
3. **「未回答者に催促」** ボタンをクリックします。
4. Discordで未回答のメンバーにメンション付きのリマインダーが送信されます。

---

## 6. 管理者向けマニュアル

プロジェクト全体を管理する人向けの機能です。

### 🚀 プロジェクトの作成
新しい公演や撮影プロジェクトを作成します。

1. ダッシュボードで **「新規プロジェクト作成」** をクリックします。
2. プロジェクト名（公演タイトルなど）を入力します。
3. 説明（任意）を入力して **「作成」** をクリックします。

### 📥 脚本のインポート
公開されている脚本を元に、新しいプロジェクトを作成できます。

1. **「公開脚本」** ページを開きます。
2. 使用したい脚本の **「インポート」** ボタンをクリックします。
3. 新しいプロジェクト名を入力して作成します。
   - インポートされた脚本は、あなたのプロジェクト内で **「非公開」** 設定（コピー）として保存されます。
   - 再度公開設定にすることで、制限除外の恩恵を受けることができます。

### 📩 メンバーの招待
プロジェクトにメンバーを招待します。

1. プロジェクトの **「設定」** を開きます。
2. **「招待リンクを作成」** ボタンをクリックします。
3. 表示されたURLをコピーして、LINEやDiscordで共有します。
4. メンバーがリンクからログインすると、自動的にプロジェクトに参加します。

### ⚙️ メンバー権限の変更
メンバーの役割（管理者/編集者/閲覧者）を変更します。

1. プロジェクトの **「設定」** → **「メンバー管理」** を開きます。
2. 変更したいメンバーの **「役割」** を選択します。
3. 変更は即座に反映されます。

### 🔔 Discord通知の設定
プロジェクトの通知をDiscordに送るための設定です。

#### 🤖 Discord Botの招待（初回のみ）
出欠確認のボタン付きメッセージを送るには、Discord Botをサーバーに招待する必要があります。

> ⚠️ **この操作はDiscordサーバーの管理者権限を持つ人が行います。**

1. 以下のURLにアクセスします：
   
   👉 **[Discord Botを招待する](https://discord.com/oauth2/authorize?client_id=1447907388337422398&permissions=2048&scope=bot)**
2. 招待先のDiscordサーバーを選択します。
3. **「認証する」** をクリックします。
4. Botがサーバーに参加したことを確認します。

> 💡 **必要な権限**: メッセージの送信（Send Messages）のみで動作します。

#### Webhook URL（一般通知用）
プロジェクト更新などの通知を受け取ります。

1. Discordで通知を受け取りたいチャンネルの **「チャンネル設定」** を開きます。
2. **「連携サービス」** → **「ウェブフック」** を選択します。
3. **「新しいウェブフック」** を作成し、URLをコピーします。
4. システムの設定画面で **「Discord Webhook URL」** に貼り付けます。

#### Webhook URL（脚本通知用）
脚本アップロード時の通知は別チャンネルに送れます（任意）。

#### チャンネルID（出欠確認用）
出欠確認のボタン付きメッセージを送るための設定です。

**チャンネルIDの取得方法:**
1. Discordの **「ユーザー設定」** → **「詳細設定」** を開きます。
2. **「開発者モード」** をオンにします。
3. 対象チャンネルを **右クリック** → **「チャンネルIDをコピー」** を選択します。
4. システムの設定で **「Discord Channel ID」** に貼り付けます。

---

## 7. 機能一覧表

| 機能 | 👑 管理者 | ✏️ 編集者 | 👀 閲覧者 |
| :--- | :---: | :---: | :---: |
| **プロジェクト作成・削除** | ☑ | - | - |
| **メンバー招待・権限変更** | ☑ | - | - |
| **Discord通知設定** | ☑ | - | - |
| **脚本アップロード・編集** | ☑ | ☑ | - |
| **スケジュール作成・編集** | ☑ | ☑ | - |
| **マイルストーン管理** | ☑ | ☑ | - |
| **チケット予約管理** | ☑ | ☑ | - |
| **香盤表の編集** | ☑ | ☑ | - |
| **キャスティング設定** | ☑ | ☑ | - |
| **スタッフ役割設定** | ☑ | ☑ | - |
| **出欠の催促送信** | ☑ | ☑ | - |
| **出欠の回答** | ☑ | ☑ | ☑ |
| **スケジュール閲覧** | ☑ | ☑ | ☑ |
| **マイスケジュール確認** | ☑ | ☑ | ☑ |
| **脚本閲覧** | ☑ | ☑ | ☑ |
| **香盤表閲覧** | ☑ | ☑ | ☑ |

---

## お問い合わせ

困ったことやバグを見つけたら、プロジェクト管理者または開発担当までご連絡ください。
