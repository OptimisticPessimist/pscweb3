# 役割別の権限調査結果

調査の結果、システム内の各役割（オーナー、編集者、閲覧者）が実行できる操作と閲覧できる情報は以下の通りです。

## 権限マトリクス

| 機能カテゴリ | オーナー (Owner) | 編集者 (Editor) | 閲覧者 (Viewer) |
| :--- | :---: | :---: | :---: |
| **プロジェクト設定** | ○ (変更/削除可能) | △ (閲覧のみ) | △ (閲覧のみ) |
| **メンバー管理** | ○ (招待作成/役割変更/削除) | × | × |
| **脚本 (Script)** | ○ (アップロード/更新) | ○ (アップロード/更新) | △ (閲覧/PDF保存) |
| **香盤表 (Scene Chart)** | ○ (自動生成/閲覧) | ○ (自動生成/閲覧) | △ (閲覧のみ) |
| **稽古予定 (Rehearsal)** | ○ (作成/編集/削除) | ○ (作成/編集/削除) | △ (閲覧のみ) |
| **マイルストーン** | ○ (作成/編集/削除) | ○ (作成/編集/削除) | △ (閲覧のみ) |
| **日程調整 (Poll)** | ○ (作成/確定/削除) | ○ (作成/確定/削除) | △ (閲覧/回答のみ) |
| **配役 (Casting)** | ○ (設定/変更) | ○ (設定/変更) | △ (閲覧のみ) |

---

## 各役割の詳細説明

### 1. 閲覧者 (Viewer)
基本的に**「情報の参照」と「自分のアクションの登録」**のみが可能です。
- **プロジェクト**: 一覧と詳細の閲覧、参加メンバーの確認、マイルストーンの閲覧。
- **脚本・シーン**: 脚本の閲覧、PDFとしてのダウンロード、シーン一覧・登場人物一覧の確認。
- **稽古**: 予定されている稽古スケジュールの確認。
- **日程調整**: 進行中の日程調整一覧の確認、および自身の回答（OK/NG/保留）の送信。
- **その他**: 自分自身のプロジェクト脱退。

### 2. 編集者 (Editor)
閲覧者の権限に加え、**「劇作・稽古運営に必要なデータの作成・更新」**が可能です。
- **脚本**: Fountainファイルのアップロード、既存脚本の更新（プロジェクトの設定も脚本に合わせて更新されます）。
- **配役**: 登場人物へのキャスト（ユーザー）の割り当て。
- **稽古**: 稽古スケジュールの作成、個別稽古の追加・編集・削除、出欠確認通知の作成。
- **マイルストーン**: 公演日やGPなどの各種マイルストーンの作成・編集・削除。
- **日程調整**: 新規の日程調整の作成、回答状況に応じたリマインド送信、結果を元にした稽古の確定・作成、日程調整の削除。

### 3. オーナー (Owner)
編集者の権限に加え、**「プロジェクト全体の管理と他メンバーの制御」**が可能です。
- **プロジェクト設定**: プロジェクト名の変更、説明の更新、Discord連携用Webhook URL/Channel IDの設定。
- **メンバー管理**: 招待リンク（トークン）の作成、既存メンバーの役割（Owner/Editor/Viewer）の変更、メンバーの強制削除。
- **プロジェクト削除**: プロジェクト自体の完全な削除。

> [!NOTE]
> 招待リンクを作成できるのはオーナーのみです。

> [!IMPORTANT]
> オーナーは自分自身を脱退させることはできません（まず他のメンバーにオーナー権限を譲るか、プロジェクトを削除する必要があります）。
